<div class="container mt-3">
  <div class="reset-password-container">
    <h2>Reset Your Password</h2>
    <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
      <!-- Password Field -->
      <div class="mb-3 position-relative">
        <label for="password" class="form-label">Password*</label>
        <div class="input-group" style="position: relative; display: flex; align-items: center;">
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            class="form-control"
            minlength="8"
            maxlength="20"
            placeholder="Enter your password"
            style="padding-right: 40px;"
          />
          <button
            type="button"
            class="btn"
            (click)="togglePasswordVisibility()"
            style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; z-index: 2;"
          >
            <i [class]="showPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
          </button>
        </div>
        <!-- Password Validation Error -->
        <div *ngIf="resetPasswordForm.controls['password'].invalid && resetPasswordForm.controls['password'].touched" class="text-danger small">
          <div *ngIf="resetPasswordForm.controls['password'].hasError('required')">*Password is required</div>
          <div *ngIf="resetPasswordForm.controls['password'].hasError('minlength')">*Password must be at least 8 characters long</div>
          <div *ngIf="resetPasswordForm.controls['password'].hasError('maxlength')">*Password must not exceed 20 characters</div>
          <div *ngIf="resetPasswordForm.controls['password'].hasError('pattern')">*Password must include an uppercase letter, a number, and a special character</div>
        </div>
      </div>

      <!-- Confirm Password Field -->
      <div class="mb-3 position-relative">
        <label for="confirmPassword" class="form-label">Confirm Password*</label>
        <div class="input-group" style="position: relative; display: flex; align-items: center;">
          <input
            id="confirmPassword"
            [type]="showConfirmPassword ? 'text' : 'password'"
            formControlName="confirmPassword"
            class="form-control"
            placeholder="Re-enter your password"
            style="padding-right: 40px;"
          />
          <button
            type="button"
            class="btn"
            (click)="toggleConfirmPasswordVisibility()"
            style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer; z-index: 2;"
          >
            <i [class]="showConfirmPassword ? 'bi bi-eye-slash' : 'bi bi-eye'"></i>
          </button>
        </div>
        <!-- Confirm Password Validation Error -->
        <div *ngIf="resetPasswordForm.hasError('passwordMismatch') && resetPasswordForm.controls['confirmPassword'].touched" class="text-danger small">
          *Passwords do not match
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary" [disabled]="resetPasswordForm.invalid">
        Reset Password
      </button>
    </form>
  </div>
</div>
